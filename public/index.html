<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>portfolio.</title>
  <link rel="icon" type="image/x-icon" href="assets/images/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <!-- Firestore -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>


  <style>
    @import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

    :root {
      --primary-blue: #B5D5FE;
      --soft-cream: #FCF3E2;
      --salmon: #F5A294;
      --mint: #C9E9DA;
      --pink: #F4B7CC;
      --lime: #ECF1BE;
      --white: #FFFFFF;
    }

    .serif {
      font-family: "Instrument Serif", serif;
    }

    .poppins {
      font-family: "Poppins", sans-serif;
    }

    body {
      font-family: "Poppins", sans-serif;
    }
  </style>
</head>

<body class="bg-cover bg-center h-screen w-screen relative"
  style="background-image: url('assets/images/index-bg.png');">

  <!-- Black overlay -->
  <div class="absolute inset-0 bg-black/25 z-0"></div>

  <!-- Home Modal -->
  <div id="homeModal" class="fixed inset-0 flex items-center md:items-start justify-center z-50 pt-0 md:pt-16">
    <div id="homeModalContent"
      class="transform transition-all duration-300 scale-95 opacity-0 bg-white rounded-xl shadow-2xl w-[90%] sm:w-[80%] md:w-[70%] max-h-[90vh] aspect-[3/4] md:aspect-[16/9] overflow-hidden relative">
      <!-- Top macOS bar -->
      <div class="flex items-center px-4 py-2 bg-gray-100 border-b border-gray-300 relative">
        <div class="flex gap-2">
          <span onclick="closeHomeModal()" class="w-3 h-3 rounded-full cursor-pointer bg-red-500"></span>
          <span onclick="closeHomeModal()" class="w-3 h-3 rounded-full cursor-pointer bg-yellow-500"></span>
          <span onclick="closeHomeModal()" class="w-3 h-3 rounded-full cursor-pointer bg-green-500"></span>
        </div>
        <span class="absolute left-1/2 transform -translate-x-1/2 text-xs text-gray-500 font-bold">HOME</span>
      </div>

      <!-- Background image inside modal -->
      <div class="relative w-full h-full bg-cover bg-center"
        style="background-image: url('assets/images/home-bg.png');">
        <div class="absolute inset-0 flex flex-col items-center justify-center text-white text-center bg-black/40 p-4">
          <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold serif mb-1 drop-shadow">nat<i>h</i>alie.</h1>
          <h2 class="text-lg sm:text-2xl md:text-3xl tracking-tighter mb-4 drop-shadow">Software Developer</h2>
          <span onclick="closeHomeModal()"
            class="inline-flex text-base sm:text-lg gap-2 border-b border-white pb-0.5 hover:scale-105 transition-transform cursor-pointer">
            Get Started
            <i class="bi bi-arrow-right"></i>
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Projects Modal -->
  <div id="projectsModal"></div>

  <!-- About Modal -->
  <div id="aboutModal"></div>

  <!-- Contact Modal -->
  <div id="contactModal"></div>

  <!-- Bottom Icons Dock -->
  <div
    class="absolute bottom-6 left-1/2 transform -translate-x-1/2 z-[60] flex gap-6 bg-black/10 backdrop-blur-md px-6 py-3 rounded-2xl shadow-lg">
    <a href="#" onclick="homeToggleModal(event)"
      class="flex flex-col items-center text-white hover:scale-110 transition-transform">
      <img src="assets/icons/1.png" alt="Home" class="w-10 h-10 mb-1">
      <span class="text-xs">Home</span>
    </a>

    <a href="#" onclick="projectsToggleModal(event)"
      class="flex flex-col items-center text-white hover:scale-110 transition-transform">
      <img src="assets/icons/2.png" alt="Projects" class="w-10 h-10 mb-1">
      <span class="text-xs">Projects</span>
    </a>
    <a href="#" onclick="aboutToggleModal(event)"
      class="flex flex-col items-center text-white hover:scale-110 transition-transform">
      <img src="assets/icons/3.png" alt="Contact" class="w-10 h-10 mb-1">
      <span class="text-xs">About</span>
    </a>
    <a href="#" onclick="contactToggleModal(event)"
      class="flex flex-col items-center text-white hover:scale-110 transition-transform">
      <img src="assets/icons/4.png" alt="Contact" class="w-10 h-10 mb-1">
      <span class="text-xs">Contact</span>
    </a>
  </div>

  <script>
    // Opens Home Modal on load
    document.addEventListener("DOMContentLoaded", () => {
      const content = document.getElementById("homeModalContent");
      content.classList.remove("scale-95", "opacity-0");
      content.classList.add("scale-100", "opacity-100");
    });

    // Fetch Modals
    fetch('projects.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('projectsModal').innerHTML = data;
      });
    fetch('about.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('aboutModal').innerHTML = data;
      });
    fetch('contact.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('contactModal').innerHTML = data;
      });

    // Modal Toggles
    function toggleModal(currentId, contentId) {
      // Close all modals
      const modals = ["homeModal", "projectsModal", "aboutModal", "contactModal"];
      const contents = ["homeModalContent", "projectsModalContent", "aboutModalContent", "contactModalContent"];

      modals.forEach((id, i) => {
        const modal = document.getElementById(id);
        const content = document.getElementById(contents[i]);

        if (!modal.classList.contains("hidden") && id !== currentId) {
          content.classList.remove("scale-100", "opacity-100");
          content.classList.add("scale-95", "opacity-0");
          setTimeout(() => {
            modal.classList.add("hidden");
          }, 300);
        }
      });

      // Toggle the selected modal
      const currentModal = document.getElementById(currentId);
      const currentContent = document.getElementById(contentId);
      const isHidden = currentModal.classList.contains("hidden");

      if (isHidden) {
        currentModal.classList.remove("hidden");
        setTimeout(() => {
          currentContent.classList.remove("scale-95", "opacity-0");
          currentContent.classList.add("scale-100", "opacity-100");
        }, 10);
      } else {
        currentContent.classList.remove("scale-100", "opacity-100");
        currentContent.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          currentModal.classList.add("hidden");
        }, 300);
      }
    }

    // Event Per Modal
    function homeToggleModal(e) {
      if (e) e.preventDefault();
      toggleModal("homeModal", "homeModalContent");
    }
    function projectsToggleModal(e) {
      if (e) e.preventDefault();
      toggleModal("projectsModal", "projectsModalContent");
    }
    function aboutToggleModal(e) {
      if (e) e.preventDefault();
      toggleModal("aboutModal", "aboutModalContent");
    }
    function contactToggleModal(e) {
      if (e) e.preventDefault();
      toggleModal("contactModal", "contactModalContent");
    }

    // Close Modals
    function closeModal(modalId, contentId) {
      const modal = document.getElementById(modalId);
      const content = document.getElementById(contentId);

      content.classList.remove("scale-100", "opacity-100");
      content.classList.add("scale-95", "opacity-0");

      setTimeout(() => {
        modal.classList.add("hidden");
      }, 300);
    }

    // Specific closers
    function closeHomeModal() {
      closeModal("homeModal", "homeModalContent");
    }
    function closeProjectsModal() {
      closeModal("projectsModal", "projectsModalContent");
    }
    function closeAboutModal() {
      closeModal("aboutModal", "aboutModalContent");
    }
    function closeContactModal() {
      closeModal("contactModal", "contactModalContent");
    }

    // Project Panels
    function showContent(sectionId) {
      const sections = ['web', 'mobile', 'uiux'];
      sections.forEach(id => {
        document.getElementById(id).classList.add('hidden');
      });
      document.getElementById(sectionId).classList.remove('hidden');
    }
    function showPreview(imgSrc, title, description) {
      const previewPane = document.getElementById("previewPane");
      previewPane.innerHTML =
        `
    <div class="flex flex-col items-start">
      <img src="${imgSrc}" class="w-20 h-20 mb-4 rounded shadow" />
      <h5 class="text-lg font-semibold mb-1">${title}</h5>
      <p class="text-sm text-gray-700">${description}</p>
    </div>
  `;
    }

    // Outside Close
    function handleBackgroundClick(event, modalId, contentId) {
      const content = document.getElementById(contentId);
      if (!content.contains(event.target)) {
        closeModal(modalId, contentId);
      }
    }

  </script>

  <!-- <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyB7RvIuO1jU_WT8gSjFcFsXzmbaXy8i2dk",
      authDomain: "nd-portfolio-d0ef5.firebaseapp.com",
      projectId: "nd-portfolio-d0ef5",
      storageBucket: "nd-portfolio-d0ef5.appspot.com",
      messagingSenderId: "1062038850340",
      appId: "1:1062038850340:web:df49fed9697ff8693341b1",
      measurementId: "G-S0FG5FBEF0"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.addEventListener("DOMContentLoaded", async () => {
      const container = document.getElementById("techstackDiv");
      if (!container) {
        console.error("❌ techstackDiv not found in DOM");
        return;
      }

      try {
        const querySnapshot = await getDocs(collection(db, "Techstack"));
        if (querySnapshot.empty) {
          console.warn("⚠️ No documents found in the 'Techstack' collection.");
        }

        querySnapshot.forEach((doc) => {
          const data = doc.data();
          console.log(`📦 Loaded tech: ${doc.id}`, data);

          const image = data.image;
          if (!image || typeof image !== "string") {
            console.warn(`⚠️ Document '${doc.id}' has no valid 'image' field.`);
            return;
          }

          const img = document.createElement("img");
          img.src = image;
          img.alt = doc.id;
          img.className = "techstack h-8 sm:h-10";
          container.appendChild(img);
        });
      } catch (error) {
        console.error("❌ Error fetching tech stack data:", error);
      }
    });
  </script> -->

</body>

</html>